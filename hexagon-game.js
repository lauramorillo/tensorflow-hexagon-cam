!function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var e={},i={},s={},n={}.hasOwnProperty,r="components/",o=function(t,e){var i=0;e&&(0===e.indexOf(r)&&(i=r.length),e.indexOf("/",i)>0&&(e=e.substring(i,e.indexOf("/",i))));var n=s[t+"/index.js"]||s[e+"/deps/"+t+"/index.js"];return n?r+n.substring(0,n.length-".js".length):t},a=/^\.\.?(\/|$)/,l=function(t,e){for(var i,s=[],n=(a.test(e)?t+"/"+e:e).split("/"),r=0,o=n.length;o>r;r++)i=n[r],".."===i?s.pop():"."!==i&&""!==i&&s.push(i);return s.join("/")},h=function(t){return t.split("/").slice(0,-1).join("/")},u=function(e){return function(i){var s=l(h(e),i);return t.require(s,e)}},c=function(t,e){var s={id:t,exports:{}};return i[t]=s,e(s.exports,u(t),s),s.exports},d=function(t,s){var r=l(t,".");if(null==s&&(s="/"),r=o(t,s),n.call(i,r))return i[r].exports;if(n.call(e,r))return c(r,e[r]);var a=l(r,"./index");if(n.call(i,a))return i[a].exports;if(n.call(e,a))return c(a,e[a]);throw new Error('Cannot find module "'+t+'" from "'+s+'"')};d.alias=function(t,e){s[e]=t},d.register=d.define=function(t,i){if("object"==typeof t)for(var s in t)n.call(t,s)&&(e[s]=t[s]);else e[t]=i},d.list=function(){var t=[];for(var i in e)n.call(e,i)&&t.push(i);return t},d.brunch=!0,d._cache=i,t.require=d}}(),require.register("Hexagon",function(t,e,i){"use strict";var s,n=e("src/Utils"),r=e("src/RegularPolygon"),o=e("src/Rays"),a=e("src/Wall"),l=e("src/Cursor"),h=e("src/Timer"),u=e("src/Kiloton");i.exports=s=function(){function t(t){if("undefined"==typeof t)throw new Error("No args provided");if("undefined"==typeof t.canvas)throw new Error("No canvas provided");this.args=t,this.canvas=t.canvas,this.ctx=this.canvas.getContext("2d"),this.angleSpeed=1.2,this.backgroundColors=[["#000000","#000000"],["#000000","#000000"]];var e=this.backgroundColors;this.wallColors=["#FFFFFF","#FFFFFF"];var i=this.wallColors;this.wallSpeed=5,this.rotationChance=5,this.rotationFrequency=5,this.walls=[null,null,null,null],this.currentWallColor=this.wallColors[0],this.currentBGC=this.backgroundColors[0],this.rays=new o({amount:6}),this.hexagon=new r({canvas:this.canvas,sides:6,size:1e3}),this.cursor=new l({canvas:this.canvas,size:7,color:this.wallColors[0],radius:75,speed:5}),this.minDist=Math.sqrt(Math.pow(this.canvas.width,2)+Math.pow(this.canvas.height,2))/2,this.timer=new h({self:this,url:"audio/rankup.ogg"}).init(this.wallColors),this.audio_bgm=null,this.audio_start=new Audio("audio/start.ogg"),this.audio_die=new Audio("audio/die.ogg");for(var s,c=new(window.AudioContext||window.webkitAudioContext),d=c.createAnalyser(),g=null,f=[],v=0,m=0,p=0,w=0,C=!1,y=0,b=1,x=0,S=0;S<this.walls.length;S++)this.walls[S]=new a({distance:this.minDist+this.minDist/3*(S+1)}),this.walls[S].generatePattern();this.getAudioCtx=function(){return c},this.setAudioCtx=function(t){c=t},this.getAnalyser=function(){return d},this.setAnalyser=function(t){d=t},this.getAudioSrc=function(){return g},this.setAudioSrc=function(t){g=t},this.getAudioData=function(){return f},this.setAudioData=function(t){f=t},this.getChunkSize=function(){return m},this.setChunkSize=function(t){m=t},this.getFrameCount=function(){return p},this.setFrameCount=function(t){p=t},this.getFrameCountLvUp=function(){return w},this.setFrameCountLvUp=function(t){w=t},"string"==typeof this.args.config&&u.loadConfig(this.args.config,this,function(){this.audio_bgm&&this.audio_bgm.play()}.bind(this)),this.init=function(t){return"string"==typeof this.args.config?u.loadConfig(this.args.config,this,function(){Math.floor(Date.now())%2==0&&(this.angleSpeed*=-1),this.play()}.bind(this)):(this.angleSpeed=1.2,this.wallSpeed=5,Math.floor(Date.now())%2==0&&(this.angleSpeed*=-1),this.play()),this.cursor.size=7,this.timer.currentLevel=0,this.timer.levelText.innerHTML=this.timer.levelTexts[0],p=0,this},this.play=function(){var t=this;C=!1,document.onkeydown=function(e){var i=e.which||e.keyCode;27==i&&(C=!0),t.moveCursor(e)},document.onkeyup=function(e){t.stopCursor(e)},this.audio_start.play(),setTimeout(function(){this.audio_bgm&&this.audio_bgm.paused&&this.audio_bgm.play()}.bind(this),200),this.canvas.classList.add("playing"),s=requestAnimationFrame(M.bind(this))},this.moveCursor=function(t){var e=t.which||t.keyCode;39==e?this.cursor.dir=1:37==e&&(this.cursor.dir=-1)},this.stopCursor=function(t){var e=t.which||t.keyCode;(39==e&&1==this.cursor.dir||37==e&&-1==this.cursor.dir)&&(this.cursor.dir=0)},this.die=function(){setTimeout(function(){this.audio_bgm&&(this.audio_bgm.pause(),this.audio_bgm=null)}.bind(this),200),this.audio_die.play(),this.hexagon.draw(this.canvas,this.currentBGC[y],this.currentWallColor,7),this.cursor.draw(),this.cursor.dir=0,document.onkeydown=null,document.onkeyup=null,p=0,this.canvas.classList.remove("playing"),s=requestAnimationFrame(T.bind(this))},this.getInterCoef=function(t){return 60>=t%120?t%120:60-(t%120-60)},this.fadeInterpolate=function(){this.currentWallColor=n.interpolateColor(this.currentWallColor,this.wallColors[0],120,p+w-x),this.currentBGC=[n.interpolateColor(this.currentBGC[y],this.backgroundColors[0][y],120,p+w-x),n.interpolateColor(this.currentBGC[b],this.backgroundColors[0][b],120,p+w-x)],p+w-x==120&&(e=this.backgroundColors,i=this.wallColors)},this.colorsHasChanged=function(){return this.backgroundColors!=e||this.wallColors!=i?!0:!1},this.interpolate=function(){var t=this.getInterCoef(p+w);this.colorsHasChanged()?(x=p+w-120>x?p+w:x,this.fadeInterpolate()):(this.currentWallColor=n.interpolateColor(this.wallColors[0],this.wallColors[1],60,t),this.currentBGC=[n.interpolateColor(this.backgroundColors[0][y],this.backgroundColors[1][y],60,t),n.interpolateColor(this.backgroundColors[0][b],this.backgroundColors[1][b],60,t)])};var M=function(){if(p>=60*this.timer.ending&&p<=60*(this.timer.ending+.3)){if(p==60*this.timer.ending&&"string"==typeof this.args.ending){this.audio_bgm.pause(),this.audio_bgm=null,u.loadConfig(this.args.ending,this,function(){this.setFrameCountLvUp(this.getFrameCount()),this.setFrameCount(0),this.audio_bgm.play()}.bind(this));for(var t=0;t<this.walls.length;t++)this.walls[t]=new a({distance:this.minDist+this.minDist/3*(t+8)}),this.walls[t].generatePattern();this.audio_start.play()}return this.ctx.fillStyle="#FFFFFF",this.ctx.setTransform(1,0,0,1,0,0),this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),p++,void(s=requestAnimationFrame(M.bind(this)))}if(this.interpolate(),(p+w)%(60*this.rotationFrequency)==0&&Math.floor(100*Math.random())<this.rotationChance&&(this.angleSpeed*=-1),this.audio_bgm){d.getByteFrequencyData(f);var e=f.slice(m,2*m);v=n.arrayAvg(e)/2}this.ctx.fillStyle=this.currentBGC[y],this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.rotate(this.angleSpeed*Math.PI/180),this.ctx.translate(-this.canvas.width/2,-this.canvas.height/2),this.rays.draw(this.canvas,[this.currentBGC[y],this.currentBGC[b]]);for(var t=0;t<this.walls.length;t++)this.walls[t].draw(this.canvas,this.currentWallColor,v),this.walls[t].distance-=this.wallSpeed,this.walls[t].distance<=0&&(this.walls[t].distance=this.minDist+this.minDist/3,this.walls[t].generatePattern()),this.walls[t].checkCollision(this.cursor.getCoord(),this.canvas)&&(C=!0);return this.cursor.color=this.currentWallColor,this.cursor.draw(v),this.cursor.radius>75&&(this.cursor.radius-=25),this.cursor.size>7&&(this.cursor.size-=1),this.hexagon.draw(this.currentBGC[y],this.currentWallColor,7,v),this.hexagon.size>50&&(this.hexagon.size-=25),this.timer.update(p,this.currentWallColor,w),C?this.die():(p++,void(s=requestAnimationFrame(M.bind(this))))},T=function(){if(this.angleSpeed>.4?(this.angleSpeed-=.01,this.angleSpeed<.4&&(this.angleSpeed=.4)):this.angleSpeed<-.4&&(this.angleSpeed+=.01,this.angleSpeed>-.4&&(this.angleSpeed=-.4)),this.wallSpeed>0&&(this.wallSpeed=0),30==p&&(this.wallSpeed=-50),p>=48&&this.hexagon.size<250&&(this.hexagon.size+=50,this.cursor.radius+=50,this.cursor.size+=1),this.hexagon.size>=250){var t=this;cancelAnimationFrame(s),window.onkeydown=function(e){var i=e.which||e.keyCode;if(32==i||38==i){for(var n=0;n<t.walls.length;n++)t.walls[n]=new a({distance:t.minDist+t.minDist/3*(n+1)}),t.walls[n].generatePattern();return window.onkeydown=null,cancelAnimationFrame(s),void t.init(t.play)}}}this.ctx.fillStyle=this.currentBGC[y],this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.translate(this.canvas.width/2,this.canvas.height/2),this.ctx.rotate(this.angleSpeed*Math.PI/180),this.ctx.translate(-this.canvas.width/2,-this.canvas.height/2),this.rays.draw(this.canvas,[this.currentBGC[y],this.currentBGC[b]]);for(var e=0;e<this.walls.length;e++)this.walls[e].draw(this.canvas,this.currentWallColor,v),this.walls[e].distance-=this.wallSpeed,this.walls[e].distance<=0&&(this.walls[e].distance=this.minDist+this.minDist/3,this.walls[e].generatePattern());this.cursor.color=3>(p+w)%6?this.wallColors[0]:this.wallColors[1],this.cursor.draw(v),0==this.angleSpeed&&p%60==0&&(v+=15),p>36&&(0>v?(v+=1,v>0&&(v=0)):v>0&&(v-=1,0>v&&(v=0))),this.hexagon.draw(this.currentBGC[y],this.currentWallColor,7,v),p++,s=requestAnimationFrame(T.bind(this))};return this}return t}()}),require.register("src/Cursor",function(t,e,i){"use strict";var s;i.exports=s=function(){function t(t){this.canvas=t.canvas||{},this.color=t.color||"#fff",this.size=t.size||5,this.radius=t.radius||50,this.speed=t.speed||4,this.dir=0,this.angle=30,this.draw=function(t){var e=this.canvas.getContext("2d"),i=this.canvas.width/2+(this.radius+t)*Math.cos(this.angle*Math.PI/180),s=this.canvas.height/2+(this.radius+t)*Math.sin(this.angle*Math.PI/180);this.angle=this.angle+this.dir*this.speed,this.angle<0?this.angle=360-this.angle:this.angle>360&&(this.angle%=360),e.translate(i,s),e.rotate(this.angle*Math.PI/180),e.translate(-i,-s),e.beginPath(),e.moveTo(i-this.size,s-this.size),e.lineTo(i+this.size,s),e.lineTo(i-this.size,s+this.size),e.closePath(),e.fillStyle=this.color,e.fill(),e.translate(i,s),e.rotate(-this.angle*Math.PI/180),e.translate(-i,-s)},this.getCoord=function(){this.canvas.getContext("2d"),this.canvas.width/2+this.radius*Math.cos(this.angle*Math.PI/180),this.canvas.height/2+this.radius*Math.sin(this.angle*Math.PI/180);return{a:this.angle,d:this.radius+2*this.size}}}return t}()}),require.register("src/Kiloton",function(t,e,i){"use strict";var s=e("src/Utils"),n={loadConfig:function(t,e,i){s.getJSON(t,function(s){if("undefined"==typeof s)return void console.error("HexagonJS @ "+t+": Can't get data.");if("undefined"==typeof s.game)return void console.error("HexagonJS @ "+t+': "game" object not found.');if("undefined"!=typeof s.game.music&&(e.audio_bgm||"string"!=typeof s.game.music?console.error("HexagonJS @ "+t+': "music" must be a string.'):(e.audio_bgm=new Audio(s.game.music),e.audio_bgm.volume=.6,e.setAudioSrc(e.getAudioCtx().createMediaElementSource(e.audio_bgm)),e.getAudioSrc().connect(e.getAnalyser()),e.getAudioSrc().connect(e.getAudioCtx().destination),e.setAudioData(new Uint8Array(e.getAnalyser().frequencyBinCount)),e.setChunkSize(~~(e.getAudioData().length/3)))),"number"==typeof s.game.musicStart&&(s.game.musicStart>=0?e.audio_bgm.currentTime=s.game.musicStart:console.error("HexagonJS @ "+t+': "musicStart" must be positive.')),"undefined"!=typeof s.game.angleSpeed&&("number"==typeof s.game.angleSpeed?e.angleSpeed=s.game.angleSpeed:console.error("HexagonJS @ "+t+': "angleSpeed" must be a number.')),"undefined"!=typeof s.game.wallSpeed&&("number"==typeof s.game.wallSpeed?s.game.wallSpeed>=0?e.wallSpeed=s.game.wallSpeed:console.error("HexagonJS @ "+t+': "wallSpeed" must be a positive number.'):console.error("HexagonJS @ "+t+': "wallSpeed" must be a number.')),"undefined"!=typeof s.game.cursorSpeed&&("number"==typeof s.game.cursorSpeed?s.game.cursorSpeed>0?e.cursor.speed=s.game.cursorSpeed:console.error("HexagonJS @ "+t+': "cursorSpeed" must be a not null positive number.'):console.error("HexagonJS @ "+t+': "cursorSpeed" must be a number.')),"undefined"!=typeof s.game.rotationChance&&("number"==typeof s.game.rotationChance?s.game.rotationChance>=0?e.rotationChance=s.game.rotationChance:console.error("HexagonJS @ "+t+': "rotationChance" must be a positive number.'):console.error("HexagonJS @ "+t+': "rotationChance" must be a number.')),"undefined"!=typeof s.game.rotationFrequency&&("number"==typeof s.game.rotationFrequency?s.game.rotationFrequency>0?e.rotationFrequency=s.game.rotationFrequency:console.error("HexagonJS @ "+t+': "rotationFrequency" must be a not null positive number.'):console.error("HexagonJS @ "+t+': "rotationFrequency" must be a number.')),"undefined"!=typeof s.game.backgroundColors&&("object"==typeof s.game.backgroundColors?2==s.game.backgroundColors.length?"object"==typeof s.game.backgroundColors[0]&&"object"==typeof s.game.backgroundColors[1]?2!=s.game.backgroundColors[0].length||2!=s.game.backgroundColors[1].length||"string"!=typeof s.game.backgroundColors[0][0]||"string"!=typeof s.game.backgroundColors[0][1]||"string"!=typeof s.game.backgroundColors[1][0]||"string"!=typeof s.game.backgroundColors[1][1]?console.error("HexagonJS @ "+t+': "backgroundColors" must contain two arrays containing two strings.'):e.backgroundColors=s.game.backgroundColors:console.error("HexagonJS @ "+t+': "backgroundColors" must contain arrays of strings.'):console.error("HexagonJS @ "+t+': "backgroundColors" must contain two values.'):console.error("HexagonJS @ "+t+': "backgroundColors" must be an array of arrays of strings.')),"undefined"!=typeof s.game.wallColors&&("object"==typeof s.game.wallColors?2==s.game.wallColors.length?"string"==typeof s.game.wallColors[0]&&"string"==typeof s.game.wallColors[1]?e.wallColors=s.game.wallColors:console.error("HexagonJS @ "+t+': "wallColors" must contain strings.'):console.error("HexagonJS @ "+t+': "wallColors" must contain two values.'):console.error("HexagonJS @ "+t+': "wallColors" must be an array of strings.')),"object"==typeof s.game.patterns){for(var n=0;n<s.game.patterns.length;n++)("object"!=typeof s.game.patterns[n]||6!=s.game.patterns[n].length)&&console.error("HexagonJS @ "+t+': "patterns" must be an array of arrays of 6 booleans.');for(var n=e.walls.length-1;n>=0;n--)e.walls[n].setPatterns(s.game.patterns),e.walls[n].generatePattern()}if("object"==typeof s.events){e.timer.flushEvents();for(var n=0;n<s.events.length;n++){var r="try{";for(var o in s.events[n])if(s.events[n].hasOwnProperty(o)&&"time"!==o)if("object"==typeof s.events[n][o])if("backgroundColors"===o){var a='[["';a+=s.events[n][o][0].join('","'),a+='"],["',a+=s.events[n][o][1].join('","'),a+='"]]',r+='target["'+o+'"]='+a+";"}else if("patterns"===o)r+="for(var i=0;i<target.walls.length;i++){",r+="target.walls[i].setPatterns(",r+="[["+s.events[n][o].join("],[")+"]]);};";else{var a='["'+s.events[n][o].join('","')+'"]';r+='target["'+o+'"]='+a+";"}else r+='target["'+o+'"]='+s.events[n][o]+";";r+='}catch(e){console.warn("Timed event '+s.events[n].time+' : " + e);}';var l=Function("target",r);e.timer.registerEvent(s.events[n].time,l)}}"undefined"!=typeof s.levels&&e.timer.load(s),"function"==typeof i&&i()})}};i.exports=n}),require.register("src/Rays",function(t,e,i){"use strict";var s;i.exports=s=function(){function t(t){this.amount="undefined"!=typeof t.amount?t.amount:3,this.draw=function(t,e){for(var i=t.getContext("2d"),s=t.width/2,n=t.height/2,r=t.width>t.height?t.width:t.height,o=1;o<=this.amount;o++)i.beginPath(),i.moveTo(s,n),i.lineTo(s+r*Math.cos(2*o*Math.PI/this.amount),n+r*Math.sin(2*o*Math.PI/this.amount)),i.lineTo(s+r*Math.cos((o+1)%this.amount*2*Math.PI/this.amount),n+r*Math.sin((o+1)%this.amount*2*Math.PI/this.amount)),i.fillStyle=e[o%2],i.fill()}}return t}()}),require.register("src/RegularPolygon",function(t,e,i){"use strict";var s;i.exports=s=function(){function t(t){if("undefined"==typeof t)throw new Error("RegularPolygon: No args provided");if("undefined"==typeof t.canvas)throw new Error("RegularPolygon: No target canvas provided");if("undefined"!=typeof t.sides&&t.sides<3)throw new Error("RegularPolygon: Sides cannot be less than 3");this.sides=t.sides||3,this.size=t.size||10,this.canvas=t.canvas||{},this.draw=function(t,e,i,s){var n=this.canvas.getContext("2d"),r=this.canvas.width/2||0,o=this.canvas.height/2||0;n.beginPath(),n.moveTo(r+(this.size+s)*Math.cos(0),o+this.size*Math.sin(0));for(var a=1;a<=this.sides;a++)n.lineTo(r+(this.size+s)*Math.cos(2*a*Math.PI/this.sides),o+(this.size+s)*Math.sin(2*a*Math.PI/this.sides));n.fillStyle=t,n.strokeStyle=e,n.lineCap="round",n.lineWidth=i,n.fill(),n.stroke()}}return t}()}),require.register("src/Timer",function(t,e,i){"use strict";var s;e("src/Utils");i.exports=s=function(){function t(t){this.currentLevel=0,this.levelTimings=[10,20,30,45,60],this.ending=this.levelTimings[this.levelTimings.length-1],this.levelTexts=["POINT","LINE","TRIANGLE","SQUARE","PENTAGON","HEXAGON"],this.element,this.timeText,this.label,this.level,this.levelText,this.levelProgressContainer,this.levelProgress,this._hexagon=t.self||null,this.eventList=[],this.notify=null,"undefined"!=typeof t&&"undefined"!=typeof t.url&&(this.notify=new Audio(t.url)),this.load=function(t){return"undefined"==typeof t?void console.error("HexagonJS @ "+url+": Can't get data."):"undefined"==typeof t.levels?void console.error("HexagonJS @ "+url+': "levels" object not found.'):"undefined"==typeof t.levels.timings||"undefined"==typeof t.levels.texts?void console.error("HexagonJS @ "+url+': Missing "timings" or "texts" arrays.'):t.levels.timings.length!=t.levels.texts.length-1?void console.error("HexagonJS @ "+url+": Level timings represent the end of each level. There should be one less timings than level names since the last level lasts forever."):(this.levelTimings=t.levels.timings,this.ending=this.levelTimings[this.levelTimings.length-1],this.levelTexts=t.levels.texts,void(this.levelText.innerHTML=this.levelTexts[0]))},this.init=function(t){return this.element=document.createElement("div"),this.element.classList.add("hjs"),this.element.classList.add("timer"),document.getElementsByTagName("body")[0].appendChild(this.element),this.timeText=document.createElement("span"),this.element.appendChild(this.timeText),this.label=document.createElement("div"),this.label.classList.add("hjs"),this.label.classList.add("label"),this.label.innerHTML="TIME",this.element.appendChild(this.label),this.level=document.createElement("div"),this.level.classList.add("hjs"),this.level.classList.add("level"),document.getElementsByTagName("body")[0].appendChild(this.level),this.levelText=document.createElement("span"),this.levelText.innerHTML=this.levelTexts[0],this.level.appendChild(this.levelText),this.levelProgressContainer=document.createElement("div"),this.level.appendChild(this.levelProgressContainer),this.levelProgress=document.createElement("div"),this.levelProgress.style.backgroundColor=t[1],this.levelProgressContainer.appendChild(this.levelProgress),this},this.update=function(t,e,i){"undefined"==typeof i&&(i=0);var s=Math.floor((t+i)/60),n=Math.floor(t+i-60*s);n=("0"+n).slice(-2),this.timeText.innerHTML=s+":"+n;for(var r=0;r<this.eventList.length;r++)this.eventList[r].time===t/60&&this.eventList[r].callback(this._hexagon);var o=t/(60*this.levelTimings[this.currentLevel])*100;this.currentLevel>0&&this.currentLevel<this.levelTexts.length-1&&(o=(t-60*this.levelTimings[this.currentLevel-1])/(60*this.levelTimings[this.currentLevel]-60*this.levelTimings[this.currentLevel-1])*100),this.currentLevel==this.levelTexts.length-1&&(o=100),o%=101,this.levelProgress.style.width=o+"%",this.levelProgress.style.backgroundColor=e;for(var r=0;r<this.levelTimings.length;r++)s==this.levelTimings[r]&&this.currentLevel==r&&(r<this.levelTimings.length-1&&null!=this.notify&&this.notify.play(),this.currentLevel++,this.levelText.innerHTML=this.levelTexts[this.currentLevel])},this.flushEvents=function(){this.eventList=[]},this.registerEvent=function(t,e){for(var i=0;i<this.eventList.length;i++)if(this.eventList[i].time==t)return void(this.eventList[i]={time:t,callback:e});this.eventList.push({time:t,callback:e})}}return t}()}),require.register("src/Utils",function(t,e,i){"use strict";var s={interpolateColor:function(t,e,i,s){function n(t){return t.toString(16)}function r(t){return parseInt(t,16)}if(0==s)return t;if(s>=i)return e;for(var o="#",a=1;6>=a;a+=2){for(var l=new Number(r(t.substr(a,2))),h=new Number(r(e.substr(a,2))),u=l+(h-l)*(s/i),c=n(Math.floor(u));c.length<2;)c="0"+c;o+=c}return o},getJSON:function(t,e){var i="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("get",t,!0),i.onreadystatechange=function(){var t,s;4==i.readyState&&(t=i.status,200==t?(s=JSON.parse(i.responseText),e&&e(s)):console.error("Error: "+t))},i.send()},arrayAvg:function(t){for(var e=0,i=t.length-1;i>=0;i--)e+=t[i];return e/t.length}};i.exports=s}),require.register("src/Wall",function(t,e,i){"use strict";var s;i.exports=s=function(){function t(t){this.walls=[!1,!1,!1,!1,!1,!1],this.distance=t.distance||250,this.width=t.width||50;var e=[];"undefined"!=typeof t&&"object"==typeof t.patterns&&(e=t.patterns);var i=function(t){for(var e=0;e<t.length;e++)if(0==t[e])return!0;return!1};this.setPatterns=function(t){e=t},this.generatePattern=function(){if(e.length>0)return void(this.walls=e[Math.floor(Math.random()*e.length)]);for(var t=0;t<this.walls.length;t++)this.walls[t]=Boolean(Math.round(Math.random()));i(this.walls)||this.generatePattern()},this.draw=function(t,e,i){for(var s=t.getContext("2d"),n=t.width/2,r=t.height/2,o=0;o<this.walls.length;o++)this.walls[o]&&(s.beginPath(),s.moveTo(n+(this.distance+i)*Math.cos(2*o*Math.PI/6),r+(this.distance+i)*Math.sin(2*o*Math.PI/6)),s.lineTo(n+(this.distance+i)*Math.cos(2*(o+1)*Math.PI/6),r+(this.distance+i)*Math.sin(2*(o+1)*Math.PI/6)),s.lineTo(n+(this.distance+i-this.width)*Math.cos(2*(o+1)*Math.PI/6),r+(this.distance+i-this.width)*Math.sin(2*(o+1)*Math.PI/6)),s.lineTo(n+(this.distance+i-this.width)*Math.cos(2*o*Math.PI/6),r+(this.distance+i-this.width)*Math.sin(2*o*Math.PI/6)),s.closePath(),s.fillStyle=e,s.strokeStyle=e,s.lineWidth=1,s.fill(),s.stroke())},this.checkCollision=function(t,e){for(var i=0;i<this.walls.length;i++){var s=60*i,n=60*(i+1);if(this.walls[i]&&s<=t.a&&n>=t.a&&this.distance-this.width<=t.d&&this.distance>=t.d)return!0}return!1}}return t}()});